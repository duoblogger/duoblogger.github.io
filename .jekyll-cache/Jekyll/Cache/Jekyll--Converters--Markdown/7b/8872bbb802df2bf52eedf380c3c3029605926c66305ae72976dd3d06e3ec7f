I"РR<h2 id="introduction-">Introduction <a name="Introduction"></a></h2>

<p>ржЖржорж░рж╛ ржЖрж╢рж╛ ржХрж░рж┐ ржкрзНрж░рж╛ржержорж┐ржХ ржбрж┐ржкрж┐ ржмрзЗрж╢ ржнрж╛рж▓рзЛржнрж╛ржмрзЗржЗ ржкрж╛рж░рж┐, ржбрж┐ржкрж┐рж░ рж╕рзНржЯрзЗржЯ ржмрзЗрж░ржХрж░рждрзЗ ржкрж╛рж░рж┐, ржбрж┐ржкрж┐ рж░рж┐ржХрж╛рж░рзНрж╢ржи ржмрзЗрзЬ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред ржпржжрж┐ рждрзБржорж┐ ржирж╛ ржкрж╛рж░рзЛ рждрж╛рж╣рж▓рзЗ <a href="https://duoblogger.github.io/2019/06/28/basic-dynamic-programming.html">ржПржЯрж┐</a> ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЛред ржПрж░ржкрж░ ржЖржорж░рж╛ рж╕рж╛ржоржирзЗрж░ ржжрж┐ржХрзЗ ржЖржЧрж╛ржмрзЛред ржирж░ржорж╛рж▓ ржбрж┐ржкрж┐ ржЖржорж░рж╛ ржЕрзНржпрж╛рж░рзЗ ржПрж░ ржЙржкрж░ ржХрж░рзЗржЫрж┐ред ржПржмрж╛рж░ ржПржХржЗ ржЬрж┐ржирж┐рж╕ ржЯрзНрж░рж┐ ржПрж░ ржЙржкрж░ ржХрж░ржмрзЛред ржЦрзБржмржЗ рж╕рж╛ржзрж╛рж░ржг ржмрзНржпрж╛ржкрж╛рж░ред ржЖржорж░рж╛ ржЦрзБржм ржХржарж┐ржиржнрж╛ржмрзЗ рж╢рзБрж░рзБ ржХрж░ржмрзЛржирж╛ ржЕржмрж╢рзНржпржЗ, рждржмрзЗ ржЯрзНрж░рж┐ ржбрж┐ржкрж┐рж░ ржЕржирзЗржХ ржЕржирзЗржХ ржХржарж┐ржи ржкрзНрж░ржмрзНрж▓рзЗржо ржЖржЫрзЗред ржЖржорж░рж╛ ржЖрж╕рзНрждрзЗ ржЖрж╕рзНрждрзЗ рж╕рзЗржЧрзБрж▓рзЛ рж╕ржорж╛ржзрж╛ржи ржХрж░рждрзЗ рж╢рж┐ржЦржмрзЛред ржХржерж╛ ржирж╛ ржмрж╛рзЬрж┐рзЯрзЗ ржЪрж▓рзЛ рж╢рзБрж░рзБ ржХрж░рж╛ ржпрж╛ржХред</p>

<h3 id="pre-requirements">Pre-requirements</h3>

<ul>
  <li><a href="https://duoblogger.github.io/2019/06/28/basic-dynamic-programming.html">Basic Dynamic Programming</a></li>
  <li><a href="http://www.shafaetsplanet.com/?p=143">Basic Graph Theory</a></li>
  <li><a href="http://www.shafaetsplanet.com/?p=604">BFS</a>  ,  <a href="http://www.shafaetsplanet.com/?p=848">Topsort</a>  ,  <a href="http://www.shafaetsplanet.com/?p=973">DFS</a></li>
  <li><a href="https://www.tutorialspoint.com/data_structures_algorithms/tree_data_structure.htm">Different Definitions about trees</a></li>
</ul>

<h2 id="problem-1-">Problem 1 <a name="problem1"></a></h2>

<blockquote>
  <p>рждрзЛржорж╛ржХрзЗ ржПржХржЯрж┐ ржЯрзНрж░рж┐ ржжрзЗрзЯрж╛ ржЖржЫрзЗ, рждрзЛржорж╛ржХрзЗ ржЯрзНрж░рж┐ ржПрж░ ржПржоржи ржжрзБржЯрж┐ ржирзЛржб ржмрзЗрж░ ржХрж░рждрзЗ рж╣ржмрзЗ ржпрж╛ржжрзЗрж░ ржоржзрзНржпржХрж╛рж░ ржжрзВрж░рждрзНржм рж╕ржмржерзЗржХрзЗ ржмрзЗрж╢рж┐ред рждрзЛржорж╛ржХрзЗ ржЖржкрж╛рждржд ржжрзБрж░рждрзНржм ржмрзЗрж░ ржХрж░рж▓рзЗржЗ рж╣ржмрзЗ, ржирзЛржб ржжрзБржЯрж┐ ржмрзЗрж░ ржХрж░рж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗред рждрзБржорж┐ ржХрж┐ ржПржЯрж╛ ржмрзЗрж░ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ?</p>
</blockquote>

<p>ржПржЗ ржкрзНрж░ржмрзНрж▓рзЗржоржЯрж┐ ржХрзНрж▓рж╛рж╕рж┐ржХ ржкрзНрж░ржмрзНрж▓рзЗржоред ржПржЗ ржорзНржпржХрзНрж╕рж┐ржорж╛ржо ржбрж┐рж╕рзНржЯрзЗржирзНрж╕ржХрзЗ ржЯрзНрж░рж┐рж░ ржбрж╛рзЯрж╛ржорж┐ржЯрж╛рж░ ржмрж▓рзЗред ржПржЯрж╛рж░ рж╕рж▓рзБрж╢ржи ржирж┐ржЬрзЗ ржмрзЗрж░ ржХрж░рж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЛред ржирж╛ ржкрж╛рж░рж▓рзЗ <a href="http://www.shafaetsplanet.com/?p=521">ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐рзЯрж╛рж▓</a> ржерзЗржХрзЗ ржжрзЗржЦрзЗ ржирж╛ржУред</p>

<p>ржПржЦржи ржзрж░рзЗ ржирж┐ржЪрзНржЫрж┐ рждрзЛржорж░рж╛ ржжрзБржЯрж┐ DFS ржЪрж╛рж▓рж┐рзЯрзЗ ржХрзАржнрж╛ржмрзЗ ржбрж╛рзЯрж╛ржорж┐ржЯрж╛рж░ ржмрзЗрж░ ржХрж░рждрзЗ рж╣рзЯ рж╕рзЗржЯрж╛ ржкрзНрж░ржорж╛ржгрж╕рж╣ ржмрзЛржЭрзЛред рждрж╛рж╣рж▓рзЗ ржирж┐ржЪрзЗрж░ ржжрж┐ржХрзЗ ржпрж╛ржУ, ржкрзНрж░ржмрзНрж▓рзЗржоржЯрж╛ржХрзЗ ржПржХржЯрзБ ржХржарж┐ржи ржХрж░рзЗ ржжрж┐ржЪрзНржЫрж┐ред</p>

<h3 id="variant-1-">Variant 1 <a name="problem1variant1"></a></h3>

<p>ржПржЗ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржЯрзНрж░рж┐ ржПрж░ ржПржЬржЧрзБрж▓рзЛрж░ ржХрж╕рзНржЯ(cost) ржЖржЫрзЗ, ржЕрж░рзНржерж╛рзО, ржЯрзНрж░рж┐ ржЯрж┐ ржУрзЯрзЗржЯрзЗржбред рждрж╛рж░ ржЙржкрж░ ржПржЬрзЗрж░ ржУрзЯрзЗржЯ ржирж┐ржЧрзЗржЯрж┐ржн рж╣рждрзЗ ржкрж╛рж░рзЗред ржПржмрж╛рж░ ржбрж╛рзЯрж╛ржорж┐ржЯрж╛рж░ ржмрзЗрж░ ржХрж░ред ржирж┐ржЪрзЗ рж╕рж▓рзБрж╢ржи ржжрзЗржЦрж╛рж░ ржЖржЧрзЗ ржЪрж┐ржирзНрждрж╛ ржХрж░рзЗ ржжрзЗржЦрзЛред ржЖржорж╛ржжрзЗрж░ ржЖржЧрзЗрж░ рж╕рж▓рзБрж╢ржиржЯрж┐ ржХрж┐ ржХрж╛ржЬ ржХрж░ржмрзЗ? ржХрж╛ржЬ ржХрж░рж▓рзЗ ржХрзЗржирзЛ ржХрж░ржмрзЗ? ржЖрж░ ржХрж╛ржЬ ржирж╛ ржХрж░рж▓рзЗ ржХрзЗржирзЛ ржХрж░ржмрзЗржирж╛?</p>

<p>ржЖржорж░рж╛ ржжрзБржЯрж┐ DFS ржжрж┐рзЯрзЗ ржХрж┐ ржХрж░рзЗржЫрж┐? ржкрзНрж░ржержорзЗ random ржирзЛржб ржерзЗржХрзЗ ржПржХржЯрж╛ DFS ржЪрж╛рж▓рж┐рзЯрзЗ рж╕рзЗржЦрж╛ржи ржерзЗржХрзЗ рж╕ржмржерзЗржХрзЗ ржжрзВрж░рзЗрж░ ржирзЛржбржЧрзБрж▓рзЛ ржмрзЗрж░ ржХрж░рзЗржЫрж┐, рждрж╛рж░ржкрж░ рж╕ржмржерзЗржХрзЗ ржжрзВрж░рзЗрж░ ржпрзЗржХрзЛржирзЛ ржПржХржЯрж┐ ржирзЛржб ржерзЗржХрзЗ ржЖрж░рзЗржХржмрж╛рж░ DFS ржЪрж╛рж▓рж┐рзЯрзЗржЫрж┐ред рждрж╛рждрзЗржЗ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржкрзЗрзЯрзЗ ржЧрзЗржЫрж┐, рждрж╛ржЗ ржирж╛? ржХрж┐ржирзНрждрзБ ржирж┐ржЪрзЗрж░ ржЯрзНрж░рж┐рждрзЗ ржкрзНрж░ржержо DFS ржЯрж╛ <script type="math/tex">e</script> ржерзЗржХрзЗ ржЪрж╛рж▓рж╛рж▓рзЗ ржХрж┐ рж╣рзЯ ржЦрзЗрзЯрж╛рж▓ ржХрж░рзЛ рждрзЛ!</p>

<p><img src="/img/posts_images/tree_dp_2.png" alt="tree-dp-1" /></p>

<p>ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ ржкрзНрж░ржержо DFS ржП e ржирзЛржб ржерзЗржХрзЗ d ржирзЛржб рж╕ржмржерзЗржХрзЗ ржжрзВрж░рзЗрж░ред рждрж╛ржЗ ржжрзНржмрж┐рждрзАрзЯ DFS ржЯрж╛ d ржирзЛржб ржерзЗржХрзЗ ржЪрж╛рж▓рж┐рзЯрзЗ ржЖржорж░рж╛ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржкрж╛ржмрзЛ <script type="math/tex">27</script> <script type="math/tex">[path\space  ( d-e-b-a) ]</script>  ред ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ ржпржжрж┐ ржкрзНрж░ржержо DFS ржЯрж╛ ржЖржирзНржп ржХрзЛржирзЛ ржирзЛржб ржерзЗржХрзЗ ржЪрж╛рж▓рж╛рждрж╛ржо, рждрж╛рж╣рж▓рзЗ ржбрж╛рзЯрж╛ржорж┐ржЯрж╛рж░ ржкрзЗрждрж╛ржо <script type="math/tex">28\ [path\ (a-b-c)]</script> ред рж╕рзБрждрж░рж╛ржВ, ржЖржорж░рж╛ ржПржЗ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржкрзНрж░рж╛ржержорж┐ржХ DFS ржП ржХрзЛржи ржирзЛржбржХрзЗ рж░рзБржЯ ржзрж░ржмрзЛ, рждрж╛рж░ ржЙржкрж░ ржЕржирзЗржХ ржХрж┐ржЫрзБ ржирж┐рж░рзНржнрж░ ржХрж░ржмрзЗред рждрж╛ржЗ ржПржнрж╛ржмрзЗ ржмрзЗрж░ ржХрж░рж╛ ржпрж╛ржмрзЗржирж╛ ржбрж╛рзЯрж╛ржорж┐ржЯрж╛рж░ред ржЖрж╕рж▓рзЗ ржпрж╛ржмрзЗ, ржЖржорж░рж╛ рж╕ржм ржирзЛржб ржерзЗржХрзЗ ржЪрж╛рж▓рж┐рзЯрзЗ ржжрзЗржЦрждрзЗ ржкрж╛рж░рж┐, ржХрж┐ржирзНрждрзБ рждрж╛рждрзЗ <script type="math/tex">O(n^2)</script> рж╕ржорзЯ рж▓рзЗржЧрзЗ ржпрж╛ржмрзЗред рждрж╛ржЗ рж╕рзЗржЯрж╛ ржХрж░рж╛ ржпрж╛ржмрзЗржирж╛ред рждрж╛рж╣рж▓рзЗ ржХрзА ржХрж░рж╛ ржпрж╛рзЯ?</p>

<p>ржЖржорж░рж╛ ржПржЦржи ржбрж┐ржкрж┐рж░ ржорждрзЛ ржЪрж┐ржирзНрждрж╛ ржХрж░ржмрзЛред ржЖржорж░рж╛ ржкрзНрж░рждрзНржпрзЗржХржЯрж╛ ржирзЛржбрзЗрж░ ржЬржирзНржп ржмрзЗрж░ ржХрж░ржмрзЛ ржПржЗ ржирзЛржбрзЗрж░ рж╕рж╛ржмржЯрзНрж░рж┐ ржПрж░ ржоржзрзНржпрзЗ ржПржЗ ржирзЛржб ржжрж┐рзЯрзЗ ржпрж╛рзЯ ржПрж░ржХржо рж╕ржмржерзЗржХрзЗ ржмрзЬ ржкрж╛рже ржХрзЛржиржЯрж┐ред ржирж┐ржЪрзЗрж░ ржЫржмрж┐ржЯрж┐ ржжрзЗржЦтАМрзЛред</p>

<p><img src="/img/posts_images/tree_dp_3.png" alt="tree-dp-1" /></p>

<p>ржЫржмрж┐рждрзЗ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржкрж╛ржерзЗрж░ рж╕рж╛ржЗржЬ 21 ред ржкрж╛ржержЯрж┐ рж╣ржЪрзНржЫрзЗ <script type="math/tex">(4-7-6)</script></p>

<p>ржПржЦрж╛ржирзЗ ржирзЛржб <script type="math/tex">1</script> ржПрж░ рж╕рж╛ржмржЯрзНрж░рж┐рж░ ржоржзрзНржпрзЗ 1 ржжрж┐рзЯрзЗ ржпрж╛рзЯ ржПрж░ржХржо рж╕ржмржерзЗржХрзЗ ржмрзЬ ржкрж╛ржерзЗрж░ рж╕рж╛ржЗржЬ 20,  <script type="math/tex">path(2-1-4-7-6)</script> ред рждрж╛рж╣рж▓рзЗ ржЖржорж░рж╛ ржпржжрж┐ ржЬрж╛ржирж┐ ржпрзЗ ржкрзНрж░рждрзНржпрзЗржХ ржирзЛржбрзЗрж░ ржЬржирзНржп ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржкрж╛рже ржХржд, рждрж╛рж╣рж▓рзЗржЗ рж╣рзЯрзЗ ржпрж╛рзЯред ржзрж░тАМ <script type="math/tex">dp(i)</script> ржорж╛ржирзЗ <script type="math/tex">i</script> ржирзЛржб ржжрж┐рзЯрзЗ <script type="math/tex">i</script> ржПрж░ рж╕рж╛ржмржЯрзНрж░рж┐рж░ ржоржзрзНржпржХрж╛рж░ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржкрж╛ржеред рждрж╛рж╣рж▓рзЗ <script type="math/tex">ans = max\left \{ dp(1),dp(2)....dp(n) \right \}</script> ред  ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ ржПржЗ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржХрзАржнрж╛ржмрзЗ ржмрзЗрж░ ржХрж░ржмрзЛ? ржПржЬржирзНржп ржЖржорж░рж╛ ржкрзНрж░рждрзНржпрзЗржХ ржирзЛржбрзЗ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржЖрж░ рж╕рзЗржХрзЗржирзНржб ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржЪрзЗржЗржи рж░рзЗржЦрзЗ ржжрж┐ржмред рждрж╛рж╣рж▓рзЗ ржПржжрзЗрж░ ржпрзЛржЧржлрж▓ржЗ рж╣ржмрзЗ ржУржЗ ржирзЛржбрзЗрж░ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржкрж╛ржеред ржПржЯрж╛ ржХрзЗржи рж╣рзЯ? ржЪрж┐ржирзНрждрж╛ ржХрж░рзЗ ржжрзЗржЦред</p>

<p><strong><u>ржкрзНрж░ржорж╛ржг:</u></strong> ржжрзЗржЦ, ржкрзНрж░ржержоржд ржЪрзЗржЗржи ржжрзБржЯрзЛ ржЖрж▓рж╛ржжрж╛, рждрж╛ржЗ рждрж╛ржжрзЗрж░ ржпрзЛржЧ ржХрж░рж▓рзЗ ржирзЛржб ржжрж┐рзЯрзЗ ржпрж╛рзЯ ржПрж░ржХржо ржПржХржЯрж╛ ржкрж╛рже ржкрж╛ржУрзЯрж╛ ржпрж╛ржмрзЗред ржПржмрж╛рж░ ржЖржорж░рж╛ ржкрзНрж░ржорж╛ржг ржХрж░ржмрзЛ ржпрзЗ ржПржЗ ржкрж╛ржержЗ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржоред ржзрж░рзЛ ржЖржорж╛ржжрзЗрж░ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржЪрзЗржЗржи <script type="math/tex">a</script> ржЖрж░ рж╕рзЗржХрзЗржирзНржб ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо <script type="math/tex">b</script> ред рждрж╛рж╣рж▓рзЗ <script type="math/tex">dp(node) = a+b</script> , рждрж╛ржЗ ржирж╛? ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ ржзрж░рзЗ ржирж┐ржЪрзНржЫрж┐ ржХржерж╛ржЯрж┐ ржнрзБрж▓ ржПржмржВ ржПржоржи ржжрзБржЯрж┐ ржЪрзЗржЗржи <script type="math/tex">(x,y)</script>  ржкрж╛ржУрзЯрж╛ ржпрж╛ржмрзЗ ржпрж╛рж░рж╛ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо/рж╕рзЗржХрзЗржирзНржб ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржирж╛, рждрж╛рж░ржкрж░рзЗржУ <script type="math/tex">x+y > a+b</script>  рж╣ржмрзЗред ржПржЯрж╛ ржкрзНрж░ржорж╛ржг ржХрж░рждрзЗ ржкрж╛рж░рж▓рзЗ ржЖржорж╛ржжрзЗрж░ рж╕рж▓рзБрж╢ржи ржнрзБрж▓ ржкрзНрж░ржорж╛ржгрж┐ржд рж╣ржмрзЗ, ржЕржирзНржпржерж╛рзЯ ржирзЯред</p>

<p>ржПржЦржи ржзрж░рзЗ ржирж┐ржЪрзНржЫрж┐ <script type="math/tex">(x > y)</script> ржПржмржВ <script type="math/tex">(a > b)</script> ред ржпрзЗрж╣рзЗрждрзБ <script type="math/tex">a</script> рж╣ржЪрзНржЫрзЗ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо рж╕рзЗрж╣рзЗрждрзБ <script type="math/tex">x</script> ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржирж╛, рждрж╛ржЗ <script type="math/tex">(a > x)</script> ред ржЖржмрж╛рж░ ржпрзЗрж╣рзЗрждрзБ <script type="math/tex">b</script> ржжрзНржмрж┐рждрзАрзЯ рж╕рж░рзНржмрзЛржЪрзНржЪ ржПржмржВ  <script type="math/tex">(x  > y)</script>, рж╕рзЗрж╣рзЗрждрзБ, <script type="math/tex">(b > y)</script> рж╣ржмрзЗред ржПржЦржи ржпржжрж┐  <script type="math/tex">(a > x)</script> ржЖрж░ <script type="math/tex">(b > y)</script> рж╣рзЯ, рждрж╛рж╣рж▓рзЗ <script type="math/tex">(a+b > x+y)</script> рж╣ржмрзЗред ржЕрж░рзНржерж╛рзО, ржПрж░ржХржо ржХрзЛржирзЛ <script type="math/tex">(x,y)</script> ржкрж╛ржУрзЯрж╛ рж╕ржорзНржнржм ржирж╛, ржпрзЗржи  <script type="math/tex">x+y > a+b</script> рж╣рзЯред рждрж╛рж╣рж▓рзЗ ржкрзНрж░рждрзНржпрзЗржХ ржирзЛржбрзЗ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржЖрж░ рж╕рзЗржХрзЗржирзНржб ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржЪрзЗржЗржирзЗрж░ ржпрзЛржЧржлрж▓ржЗ рж╣ржЪрзНржЫрзЗ ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо ржкрж╛ржеред ржПржЦржи ржПржЯрж╛рж░ ржХрзЛржб ржХрзАржнрж╛ржмрзЗ ржХрж░ржмрзЛ? ржЦрзБржмржЗ рж╕рзЛржЬрж╛ред ржЖржорж╛ржжрзЗрж░ ржбрж┐ржкрж┐ ржЯрзЗржмрж┐рж▓рзЗ ржжрзБржЯрзЛ ржЬрж┐ржирж┐рж╕ рж░рж╛ржЦржмрзЛ, ржПржХржЯрж╛ рж╣ржЪрзНржЫрзЗ ржкржЬрж┐рж╢ржи, ржЖрж░рзЗржХржЯрж╛ рж╣ржЪрзНржЫрзЗ ржорзНржпрж╛ржХрзНрж╕ / рж╕рзЗржХрзЗржирзНржб ржорзНржпрж╛ржХрзНрж╕ред ржЕрж░рзНржерж╛рзО,<script type="math/tex">dp[2][n]</script> ред ржПржЦрж╛ржирзЗ ,</p>

<script type="math/tex; mode=display">dp[0][x] = second\max\left \{ chain(child_1),chain(child_2)...., chain(child_x) \right \} \\</script>

<script type="math/tex; mode=display">dp[1][x] = max\left \{ chain(child_1),chain(child_2)...., chain(child_x) \right \}</script>

<p>ржХрзЛржб ржирж┐ржЪрзЗ ржжрж┐рзЯрзЗ ржжрж┐ржЪрзНржЫрж┐ред рждржмрзЛ ржоржирзЗ рж░рзЗржЦрзЛ, рж╕ржмрж╕ржорзЯ ржХрзЛржб ржирж╛ ржжрзЗржЦрзЗ ржирж┐ржЬрзЗ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░ржмрзЗ, ржкрж╛рж░рж╛рж░ ржкрж░ ржорж┐рж▓рж┐рзЯрзЗ ржжрзЗржЦрж╛рж░ ржЬржирзНржп ржХрзЛржб ржжрж┐рзЯрзЗ ржжрж┐ржЪрзНржЫрж┐ред ржЖрж░ ржпржжрж┐ ржПржХрзЗржмрж╛рж░рзЗржЗ ржирж╛ ржкрж╛рж░рзЛ рждрж╛рж╣рж▓рзЗ ржкрзНрж░ржержо ржерзЗржХрзЗ ржЖржмрж╛рж░ ржкрзЬред</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//dp[1][..] = maximum chain</span>
<span class="c1">//dp[0][..] = second maximum chain </span>
<span class="kt">void</span> <span class="nf">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">node</span><span class="p">,</span><span class="kt">int</span> <span class="n">parent</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="o">:</span> <span class="n">graph</span><span class="p">[</span><span class="n">node</span><span class="p">]){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="n">parent</span><span class="p">){</span>
            <span class="n">dfs</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">node</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">node</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">v</span><span class="p">]){</span>
                <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">node</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">v</span><span class="p">]);</span>
                <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">v</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">{</span><span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">node</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">v</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">v</span><span class="p">]};</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span><span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]);</span>
</code></pre></div></div>

<p>ржПржЦрж╛ржирзЗ ржЫрзЛржЯрзНржЯ ржПржХржЯрж╛ ржнрзБрж▓ ржХрж░рзЗржЫрж┐ ржХрзЛржбрзЗред ржирж┐ржЬрзЗ ржмрзЗрзЬ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржХрж┐? ржмрзЗрзЬ ржХрж░рждрзЗ ржкрж╛рж░рж▓рзЗ <a href="https://duoblogger.github.io/contact">ржПржЦрж╛ржирзЗ ржорзЗржЗрж▓ ржХрж░рзЗ</a> ржЬрж╛ржирж╛ржУред</p>

<h2 id="problem-2-">Problem 2 <a name="problem2"></a></h2>

<blockquote>
  <p>рждрзЛржорж╛ржХрзЗ ржПржХржЯрж╛ ржЯрзНрж░рж┐ ржжрзЗрзЯрж╛ ржЖржЫрзЗред ржЯрзНрж░рж┐ ржПрж░ ржкрзНрж░рждрзНржпрзЗржХржЯрж╛ ржирзЛржбрзЗ ржХрж┐ржЫрзБ ржХрж░рзЗ ржнрзНржпрж╛рж▓рзБ ржЖржЫрзЗред рждрзБржорж┐ ржПржЗ ржЯрзНрж░рж┐ ржерзЗржХрзЗ ржПржоржиржнрж╛ржмрзЗ ржХрж┐ржЫрзБ ржирзЛржб ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗ ржпрзЗржи рждрж╛ржжрзЗрж░ ржнрзНржпрж╛рж▓рзБрж░ ржпрзЛржЧржлрж▓ рж╕рж░рзНржмрзЛржЪрзНржЪ рж╣рзЯред ржХрж┐ржирзНрждрзБ рждрзБржорж┐ ржПржХржЗ ржПржЬрзЗрж░(edge) ржПржХрж╛ржзрж┐ржХ ржирзЛржб ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗржирж╛ред ржЕрж░рзНржерж╛рзО, ржзрж░рзЛ ржирзЛржб a ржерзЗржХрзЗ b рждрзЛ рж╕рж░рж╛рж╕рж░рж┐ ржПржЬ ржЖржЫрзЗред рждрж╛рж╣рж▓ рждрзБржорж┐  a ржЖрж░ b ржХрзЗ ржПржХрж╕рж╛ржерзЗ ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗржирж╛, ржпрзЗржХрзЛржирзЛ ржПржХржЯрж╛ ржирж┐рждрзЗ рж╣ржмрзЗред рждрзЛржорж╛ржХрзЗ рж╕рж░рзНржмрзЛржЪрзНржЪ ржпрзЛржЧржлрж▓ ржмрзЗрж░ ржХрж░рждрзЗ рж╣ржмрзЗред</p>
</blockquote>

<p>ржПржЗ ржкрзНрж░ржмрзНрж▓рзЗржоржЯрж┐ рж╕рж▓рзНржн ржХрж░рж╛рж░ ржЖржЧрзЗ рждрзБржорж┐ <a href="https://duoblogger.github.io/2019/06/28/basic-dynamic-programming.html#problem3">ржПржЗ ржкрзНрж░ржмрзНрж▓рзЗржоржЯрж┐</a> ржжрзЗржЦрзЗ ржирж╛ржУред ржЖрзНржпрж╛рж░рзЗ ржПрж░ рж╕рж▓рзБрж╢ржи ржмрзБржЭрждрзЗ ржкрж╛рж░рж▓рзЗ рждрзЛржорж╛рж░ ржЬржирзНржп ржПржЗ ржкрзНрж░ржмрзНрж▓рзЗржоржЯрж╛ ржмрзБржЭрждрзЗ ржХрзЛржирзЛ рж╕ржорж╕рзНржпрж╛ рж╣ржУрзЯрж╛рж░ ржХржерж╛ ржирж╛ред ржЕрзНржпрж╛рж░рзЗрждрзЗ ржЖржЧрзЗрж░ ржЗржирзНржбрзЗржХрзНрж╕рзЗрж░ рж╕рж╛ржерзЗ ржпрзЗржнрж╛ржмрзЗ рж╣рж┐рж╕рж╛ржм ржХрж░рзЗржЫрж┐, ржПржЦрж╛ржирзЗ рж╢рзБржзрзБ ржПржХржЯрж╛ ржирзЛржбрзЗрж░ ржЪрж╛ржЗрж▓рзНржбрзЗрж░ рж╕рж╛ржерзЗ рж╣рж┐рж╕рж╛ржмржЯрж╛ ржХрж░ржмрзЛред ржирж┐ржЪрзЗрж░ ржЫржмрж┐рждрзЗ ржХрж┐ржЫрзБржЯрж╛ рж╕рж┐ржорзБрж▓рзЗржЯ ржХрж░рзЗ ржжрзЗржЦрж┐рзЯрзЗржЫрж┐, ржнрж╛рж▓рзЛ ржХрж░рзЗ ржЦрзЗрзЯрж╛рж▓ ржХрж░рзЛ, ржмрзБржЭрждрзЗ рж╕рзБржмрж┐ржзрж╛ рж╣рждрзЗ ржкрж╛рж░рзЗред</p>

<p><img src="/img/posts_images/tree_dp_1.png" alt="tree-dp-1" /></p>

<p>ржЫржмрж┐ржЯрж┐ ржЦрзБржм ржнрж╛рж▓рзЛ ржХрж░рзЗ ржЦрзЗрзЯрж╛рж▓ ржХрж░рж▓рзЗ ржмрж╛ржХрж┐ржЯрж╛ ржмрзБржЭрждрзЗ ржЕрж╕рзБржмрж┐ржзрж╛ рж╣ржмрзЗржирж╛ред ржХрзЛржбржЯрж╛ ржирж┐ржЬрзЗ ржХрж░рж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЛред ржЖржорж┐ ржирж┐ржЪрзЗ ржжрж┐рзЯрзЗ ржжрж┐ржЪрзНржЫрж┐ рждрж╛ржУред</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">node</span><span class="p">,</span><span class="kt">int</span> <span class="n">par</span><span class="p">){</span>
    <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">cost</span><span class="p">[</span><span class="n">node</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="o">:</span> <span class="n">graph</span><span class="p">[</span><span class="n">node</span><span class="p">]){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">v</span> <span class="o">!=</span> <span class="n">par</span><span class="p">){</span>
    		<span class="n">dfs</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">node</span><span class="p">);</span>
            <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">node</span><span class="p">]</span> <span class="o">+=</span> <span class="n">max</span><span class="p">({</span><span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">v</span><span class="p">],</span><span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">v</span><span class="p">],</span><span class="mi">0</span><span class="p">});</span>
            <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">node</span><span class="p">]</span> <span class="o">+=</span> <span class="n">max</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">v</span><span class="p">],</span><span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// print max(dp[0][1],dp[1][1]);</span>
</code></pre></div></div>

<p>to be continuedтАж.</p>

:ET